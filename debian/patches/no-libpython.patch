Author: Alastair McKinstry <mckinstry@debian.org>
Description: Remove linkages to -lpython*.* from link line for modules.
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=655244
Forwarded: no
Last-Updated: 2012-01-09

Index: newt-0.52.14/Makefile.in
===================================================================
--- newt-0.52.14.orig/Makefile.in	2012-01-09 17:39:14.000000000 +0000
+++ newt-0.52.14/Makefile.in	2012-01-09 17:40:48.000000000 +0000
@@ -81,8 +81,8 @@
 	    	mkdir -p $$ver ;\
 			PCFLAGS=`$$ver-config --cflags`; \
 			PIFLAGS=`$$ver-config --includes`; \
-			PLDFLAGS=`$$ver-config --ldflags`; \
-			PLFLAGS=`$$ver-config --libs`; \
+			PLDFLAGS=`$$ver-config --ldflags | sed -e 's/\-lpython[0-9.]*//'`; \
+			PLFLAGS=`$$ver-config --libs | sed -e 's/\-lpython[0-9.]*//'`; \
 	        $(CC) $(CPPFLAGS) $$PIFLAGS $$PCFLAGS -c -o $$ver/snackmodule.o snackmodule.c ;\
 	        $(CC) --shared $$PLDFLAGS $$PLFLAGS $(LDFLAGS) -o $$ver/_snackmodule.so $$ver/snackmodule.o -L.  -lnewt $(LIBS);\
                 $(CC) $(subst -O2,-O0,$(CFLAGS)) -I/usr/include/$${ver}_d -fPIC -c -o $$ver/snackmodule_d.o snackmodule.c ;\
